# v0.dev å‰ç«¯å¼€å‘æç¤ºè¯

> å¤åˆ¶ä»¥ä¸‹å†…å®¹å‘é€ç»™ v0.dev å¼€å§‹å¼€å‘å‰ç«¯é¡¹ç›®

---

Create a workflow editor UI similar to Dify or LangFlow for an AI Agent platform.

## Tech Stack
- **Next.js 15** with App Router
- **TypeScript**
- **Tailwind CSS**
- **shadcn/ui** components
- **ReactFlow** (for workflow canvas)

## Project Vision

KnightAgent Web æ˜¯ä¸€ä¸ª **Agent & Workflow å¯è§†åŒ–å¹³å°**ï¼Œè®©ç”¨æˆ·æ— éœ€ç¼–ç å³å¯ï¼š
- æ‹–æ‹½åˆ›å»º AI Agent å·¥ä½œæµ
- å¯è§†åŒ–é…ç½® Agent æç¤ºè¯ã€MCP å·¥å…·ã€æ¨¡å‹å‚æ•°
- å®æ—¶ç›‘æ§å·¥ä½œæµæ‰§è¡ŒçŠ¶æ€
- æµå¼æŸ¥çœ‹ AI å“åº”è¾“å‡º

## Project Structure

```
knight-agent-web/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ page.tsx              # Dashboard (workflow list)
â”‚   â”œâ”€â”€ workflow/
â”‚   â”‚   â”œâ”€â”€ [id]/page.tsx     # Workflow editor
â”‚   â”‚   â””â”€â”€ new/page.tsx      # Create new workflow
â”‚   â””â”€â”€ layout.tsx
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ canvas/
â”‚   â”‚   â”œâ”€â”€ WorkflowCanvas.tsx    # Main canvas with ReactFlow
â”‚   â”‚   â”œâ”€â”€ NodeComponent.tsx     # Individual node renderer
â”‚   â”‚   â”œâ”€â”€ EdgeComponent.tsx     # Connection lines
â”‚   â”‚   â””â”€â”€ CanvasControls.tsx    # Zoom/pan controls
â”‚   â”œâ”€â”€ nodes/
â”‚   â”‚   â”œâ”€â”€ AgentNode.tsx         # Agent node configuration panel
â”‚   â”‚   â”œâ”€â”€ CodeNode.tsx          # Code execution node
â”‚   â”‚   â”œâ”€â”€ ConditionNode.tsx     # Conditional branch node
â”‚   â”‚   â”œâ”€â”€ ToolNode.tsx          # Tool call node
â”‚   â”‚   â””â”€â”€ IoNode.tsx            # Input/Output nodes
â”‚   â”œâ”€â”€ panels/
â”‚   â”‚   â”œâ”€â”€ NodeConfigPanel.tsx   # Right sidebar for node config
â”‚   â”‚   â”œâ”€â”€ AgentConfigPanel.tsx  # Agent-specific config
â”‚   â”‚   â””â”€â”€ ExecutionPanel.tsx    # Execution monitoring
â”‚   â”œâ”€â”€ workflow/
â”‚   â”‚   â”œâ”€â”€ WorkflowList.tsx      # Workflow list cards
â”‚   â”‚   â””â”€â”€ WorkflowCard.tsx      # Single workflow card
â”‚   â””â”€â”€ ui/                       # shadcn/ui components
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ api.ts                    # API client functions
â”‚   â”œâ”€â”€ types.ts                  # TypeScript types
â”‚   â””â”€â”€ websocket.ts              # WebSocket client
â””â”€â”€ hooks/
    â”œâ”€â”€ useWorkflow.ts            # Workflow CRUD hooks
    â””â”€â”€ useExecution.ts           # Execution state hooks
```

---

## Page 1: Dashboard (`app/page.tsx`)

Create a clean dashboard showing:

```
+--------------------------------------------------+
|  Logo    Workflows    Templates    [User â–¼]    |
+--------------------------------------------------+
|                                                  |
|  [+ Create New Workflow]                         |
|                                                  |
|  +----------------+  +----------------+          |
|  | ğŸ“ My Workflow |  | ğŸ” Search Bot  |          |
|  | Agent â†’ Code   |  | Agent â†’ Web    |          |
|  |                |  |                |          |
|  | 2h ago         |  | 1d ago         |          |
|  | [Run] [Edit]   |  | [Run] [Edit]   |          |
|  +----------------+  +----------------+          |
|                                                  |
|  +----------------+  +----------------+          |
|  | ğŸ“Š Report Gen  |  | ğŸ¤– Chat Bot     |          |
|  | ...            |  | ...            |          |
|  +----------------+  +----------------+          |
+--------------------------------------------------+
```

**Features:**
- Header with logo, navigation, and user menu
- "Create New Workflow" button (prominent)
- Grid of workflow cards with:
  - Workflow name and description
  - Last modified time
  - Run button (play icon)
  - Edit button (pencil icon)
  - Delete button with confirmation modal
- Empty state with illustration when no workflows exist

---

## Page 2: Workflow Editor (`app/workflow/[id]/page.tsx`)

### Layout

```
+--------------------------------------------------------------------------+
| Header: [â† Back] [My Workflow_______] [Save] [â–¶ Run] [â–¼]                |
+--------------------------+-----------------------------------------------+
|                          |   Node Config Panel                           |
|   Node Palette          |   (right sidebar, 320px)                      |
|   (left sidebar, 200px) |                                               |
|                          |  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  |
|  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  |  | ğŸ¤– Agent Node                  [X]     |  |
|  â”‚ Available Nodes    â”‚  |  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  |
|  â”‚                    â”‚  |  | Node Name: [My Agent_______________]   |  |
|  â”‚ ğŸŸ¢ Input/Output    â”‚  |  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  |
|  â”‚ ğŸ¤– Agent           â”‚  |  | Model                                   |  |
|  â”‚ ğŸ’» Code            â”‚  |  | â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   |  |
|  â”‚ ğŸ”€ Condition       â”‚  |  | â”‚ gpt-4o                      â–¼    â”‚   |  |
|  â”‚ ğŸ”§ Tool            â”‚  |  | â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   |  |
|  â”‚ ğŸŒ HTTP            â”‚  |  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  |
|  â”‚                    â”‚  |  | System Prompt                           |  |
|  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  |  | â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   |  |
|                          |  | â”‚ You are a helpful assistant...  â”‚   |  |
|   Canvas Area            |  | â”‚                                  â”‚   |  |
|   (ReactFlow)            |  | â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   |  |
|                          |  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  |
|   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           |  | MCP Tools                               |  |
|   â”‚  Input   â”‚â”€â”€â”        |  | â˜‘ filesystem  â˜‘ postgres             |  |
|   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚        |  | â˜ github     â˜ brave-search          |  |
|                 â†“        |  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  |
|            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    |  | Parameters                              |  |
|            â”‚ Agent  â”‚    |  | Temperature: [0.7___] (0-1)            |  |
|            â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    |  | Max Tokens:  [4096_______________]     |  |
|                 â†“        |  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  |
|            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    |  |               [Cancel] [Apply]         |  |
|            â”‚  Code  â”‚    |  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  |
|            â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    |                                               |
|                 â†“        |                                               |
|            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    |                                               |
|            â”‚ Output â”‚    |                                               |
|            â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    |                                               |
+--------------------------+-----------------------------------------------+
| Execution Panel (bottom, collapsible, 200px)                              |
| â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  |
| â”‚ Execution Log                                            [Clear]   â”‚  |
| â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  |
| â”‚ â–¶ [09:23:45] Starting workflow...                                 â”‚  |
| â”‚   ğŸ¤– [09:23:46] Agent Node: Running...                             â”‚  |
| â”‚     â–¶ [09:23:47] Calling tool: search                             â”‚  |
| â”‚     âœ… [09:23:48] Tool returned 5 results                          â”‚  |
| â”‚   ğŸ’¬ [09:23:49] Token: "I found 5 results for your query..."       â”‚  |
| â”‚   âœ… [09:23:50] Agent Node: Complete                               â”‚  |
| â”‚   ğŸ’» [09:23:51] Code Node: Running...                              â”‚  |
| â”‚   âœ… [09:23:52] Code Node: Complete                                â”‚  |
| â”‚   ğŸ“¤ [09:23:53] Output Node: Done                                  â”‚  |
| â”‚ âœ… [09:23:54] Workflow Complete                                    â”‚  |
| â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  |
+--------------------------------------------------------------------------+
```

---

## Canvas Features (ReactFlow)

### Node Types (with different colors/icons):

| Type | Color | Icon | Description |
|------|-------|------|-------------|
| **Input** | Green (`#22c55e`) | `â†’` | Workflow input |
| **Output** | Green (`#22c55e`) | `â†` | Workflow output |
| **Agent** | Blue (`#3b82f6`) | `ğŸ¤–` | AI Agent execution |
| **Code** | Purple (`#a855f7`) | `ğŸ’»` | JavaScript code |
| **Condition** | Orange (`#f97316`) | `ğŸ”€` | Conditional branching |
| **Tool** | Pink (`#ec4899`) | `ğŸ”§` | Tool call |
| **HTTP** | Cyan (`#06b6d4`) | `ğŸŒ` | HTTP request |

### Node Component Design

Each node should display:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â—  Agent Node    [Ã—]â”‚  â† Status indicator | Name | Close button
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ gpt-4o | 0.7        â”‚  â† Config preview
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â—              â—         â† Input handle | Output handle
```

- **Status indicator**:
  - âšª Idle (gray)
  - ğŸŸ¡ Running (yellow pulse)
  - âœ… Success (green)
  - âŒ Error (red)

- **Mini config button** on hover (gear icon)
- **Input handle** (left circle) and **Output handle** (right circle)

### Canvas Controls

- Zoom in/out buttons (`+` / `-`)
- Fit to screen button (â›¶)
- Mini-map for navigation (bottom-right corner)
- Grid background (dots pattern)

### Interactions

1. **Drag nodes** - Click and drag from sidebar to canvas
2. **Connect nodes** - Drag from output handle to input handle
3. **Configure node** - Click node to open config panel
4. **Delete node** - Select and press `Delete` or click Ã— button
5. **Copy/Paste** - `Ctrl+C` / `Ctrl+V`
6. **Undo/Redo** - `Ctrl+Z` / `Ctrl+Shift+Z`
7. **Pan** - Click and drag on empty space
8. **Zoom** - Mouse wheel or trackpad

---

## Node Config Panel

### Agent Node Config

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¤– Agent Node                                      [Ã—]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Node Name                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ My Agent____________________________________     â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”§ Basic Settings                    [Collapse]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Model                                                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ gpt-4o                                    â–¼     â”‚    â”‚
â”‚ â”‚ â€¢ gpt-4o â€¢ gpt-4o-mini â€¢ claude-3-5-sonnet         â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ System Prompt                    [âœ¨ AI Optimize] [ğŸ“‹]   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ You are a helpful assistant specialized in      â”‚    â”‚
â”‚ â”‚ data analysis. Use the available tools to       â”‚    â”‚
â”‚ â”‚ search and process information.                 â”‚    â”‚
â”‚ â”‚                                                  â”‚    â”‚
â”‚ â”‚ Variables: {{input.query}}, {{input.userId}}    â”‚    â”‚
â”‚ â”‚                                                  â”‚    â”‚
â”‚ â”‚                                                  â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ› ï¸ MCP Tools                            [Collapse]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ğŸ“‚ File System (filesystem)            [âš™ï¸]   â”‚    â”‚
â”‚  â”‚   â”œâ”€ â˜‘ read_file      - Read file contents   â”‚    â”‚
â”‚  â”‚   â”œâ”€ â˜‘ write_file     - Write to file        â”‚    â”‚
â”‚  â”‚   â”œâ”€ â˜ list_directory - List directory       â”‚    â”‚
â”‚  â”‚   â””â”€ â˜ create_folder  - Create folder        â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚ ğŸ—„ï¸ PostgreSQL (postgres)                [âš™ï¸]   â”‚    â”‚
â”‚  â”‚   â”œâ”€ â˜‘ query          - Execute SQL query    â”‚    â”‚
â”‚  â”‚   â”œâ”€ â˜ execute        - Execute statement    â”‚    â”‚
â”‚  â”‚   â””â”€ â˜ list_tables    - List all tables      â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚ ğŸ” Brave Search (brave-search)          [âš™ï¸]   â”‚    â”‚
â”‚  â”‚   â””â”€ â˜ brave_web_search - Web search         â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                         â”‚
â”‚  [+ Add MCP Server]    ğŸ” Search tools...              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âš™ï¸ Model Parameters                     [Collapse]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Temperature        (0.0 - 1.0)        â”‚
â”‚ â”‚ 0.7      â”‚  â† Controls randomness                 â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚                                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Max Tokens                             â”‚
â”‚ â”‚ 4096    â”‚  â† Maximum response length               â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚                                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Top P               (0.0 - 1.0)       â”‚
â”‚ â”‚ 0.9      â”‚  â† Nucleus sampling                     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚                                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Frequency Penalty  (0.0 - 2.0)       â”‚
â”‚ â”‚ 0.0      â”‚  â† Reduce repetition                    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚                                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Presence Penalty   (0.0 - 2.0)       â”‚
â”‚ â”‚ 0.0      â”‚  â† Encourage new topics                â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¯ Execution Settings                  [Collapse]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Max Iterations                         â”‚
â”‚ â”‚ 10       â”‚  â† Maximum tool call rounds              â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚                                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Timeout (seconds)                      â”‚
â”‚ â”‚ 60       â”‚  â† Per execution                         â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚                                                         â”‚
â”‚ â˜‘ Stream Response                                      â”‚
â”‚ â˜‘ Enable Reasoning (if supported)                      â”‚
â”‚ â˜ Strict Mode (follow prompt exactly)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“Š Input/Output                      [Collapse]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Input Schema (Define expected input)                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ Field Name       â”‚ Type          â”‚ Required      â”‚    â”‚
â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚ â”‚ â”‚ query          â”‚ string        â”‚ â˜‘            â”‚    â”‚
â”‚ â”‚ â”‚ userId         â”‚ string        â”‚ â˜            â”‚    â”‚
â”‚ â”‚ â”‚ context        â”‚ object        â”‚ â˜            â”‚    â”‚
â”‚ â”‚ â”‚ [+ Add Field]  â”‚               â”‚              â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                        [Cancel] [Apply]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### MCP æœåŠ¡å™¨ç®¡ç†é¡µé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”§ Settings        ğŸ  Home    ğŸ‘¤ Admin                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  MCP Servers                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ğŸ“‚ File System Access                          â”‚    â”‚
â”‚  â”‚ â”œâ”€ Type: STDIO                                 â”‚    â”‚
â”‚  â”‚ â”œâ”€ Command: npx -y @modelcontextprotocol/      â”‚    â”‚
â”‚  â”‚           server-filesystem /path/to/files      â”‚    â”‚
â”‚  â”‚ â”œâ”€ Status: âœ… Connected (5 tools available)     â”‚    â”‚
â”‚  â”‚ â””â”€ Last tested: 2 minutes ago                   â”‚    â”‚
â”‚  â”‚                                                  â”‚    â”‚
â”‚  â”‚ Available Tools:                                 â”‚    â”‚
â”‚  â”‚ â€¢ read_file, write_file, list_directory,        â”‚    â”‚
â”‚  â”‚   create_folder, move_file, delete_file         â”‚    â”‚
â”‚  â”‚                                                  â”‚    â”‚
â”‚  â”‚ [Test Connection] [View Tools] [Edit] [Delete]  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ğŸ—„ï¸ PostgreSQL Database                        â”‚    â”‚
â”‚  â”‚ â”œâ”€ Type: SSE                                   â”‚    â”‚
â”‚  â”‚ â”œâ”€ URL: http://localhost:8000/mcp/postgres     â”‚    â”‚
â”‚  â”‚ â”œâ”€ Status: âœ… Connected (3 tools available)     â”‚    â”‚
â”‚  â”‚ â””â”€ Last tested: 5 minutes ago                   â”‚    â”‚
â”‚  â”‚                                                  â”‚    â”‚
â”‚  â”‚ Available Tools: query, execute, list_tables    â”‚    â”‚
â”‚  â”‚                                                  â”‚    â”‚
â”‚  â”‚ [Test Connection] [View Tools] [Edit] [Delete]  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ğŸ” Brave Search                               â”‚    â”‚
â”‚  â”‚ â”œâ”€ Type: STDIO                                 â”‚    â”‚
â”‚  â”‚ â”œâ”€ Command: npx -y @modelcontextprotocol/      â”‚    â”‚
â”‚  â”‚           server-brave-search                  â”‚    â”‚
â”‚  â”‚ â”œâ”€ Status: âŒ Disconnected                     â”‚    â”‚
â”‚  â”‚ â””â”€ Error: Package not found                    â”‚    â”‚
â”‚  â”‚                                                  â”‚    â”‚
â”‚  â”‚ [Test Connection] [View Tools] [Edit] [Delete]  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                         â”‚
â”‚  [+ Add MCP Server]                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ·»åŠ  MCP æœåŠ¡å™¨å¼¹çª—

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Add MCP Server                           [Ã—]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  Server Name                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ My File System_______________________________    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                         â”‚
â”‚  Protocol                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ STDIO (for npx packages)                  â–¼     â”‚    â”‚
â”‚  â”‚ â€¢ STDIO  â€¢ SSE  â€¢ WebSocket                       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                         â”‚
â”‚  Command / Endpoint                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ npx -y @modelcontextprotocol/server-filesystem  â”‚    â”‚
â”‚  â”‚ /path/to/directory                               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                         â”‚
â”‚  Arguments (if applicable)                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ --arg1 value1 --arg2 value2                     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                         â”‚
â”‚  Environment Variables (optional)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ API_KEY=your_key_here                           â”‚    â”‚
â”‚  â”‚ DATABASE_URL=postgresql://...                   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                         â”‚
â”‚              [Test Connection] [Save] [Cancel]          â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### MCP å·¥å…·è¯¦æƒ…å¼¹çª—

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ğŸ“‚ File System - Tools                  [Ã—]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  This server provides 5 tools:                          â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ğŸ“„ read_file                                   â”‚    â”‚
â”‚  â”‚ â”œâ”€ Description: Read the contents of a file    â”‚    â”‚
â”‚  â”‚ â”œâ”€ Parameters:                                 â”‚    â”‚
â”‚  â”‚ â”‚   â€¢ path (string, required) - File path      â”‚    â”‚
â”‚  â”‚ â”‚   â€¢ encoding (string, optional) - UTF-8      â”‚    â”‚
â”‚  â”‚ â””â”€ [Test Tool]                                 â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚ âœï¸ write_file                                  â”‚    â”‚
â”‚  â”‚ â”œâ”€ Description: Write content to a file        â”‚    â”‚
â”‚  â”‚ â”œâ”€ Parameters:                                 â”‚    â”‚
â”‚  â”‚ â”‚   â€¢ path (string, required)                  â”‚    â”‚
â”‚  â”‚ â”‚   â€¢ content (string, required)               â”‚    â”‚
â”‚  â”‚ â””â”€ [Test Tool]                                 â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚ ğŸ“‚ list_directory                              â”‚    â”‚
â”‚  â”‚ â””â”€ [Test Tool]                                 â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚ ğŸ“ create_folder                               â”‚    â”‚
â”‚  â”‚ â””â”€ [Test Tool]                                 â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚ ğŸ”„ move_file                                   â”‚    â”‚
â”‚  â”‚ â””â”€ [Test Tool]                                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                         â”‚
â”‚                             [Close]                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
```

### Code Node Config

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’» Code Node                    [Ã—]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Node Name                                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Transform Data_________________   â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ JavaScript Code                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ // Available: inputData           â”‚   â”‚
â”‚ â”‚ const result = {                  â”‚   â”‚
â”‚ â”‚   processed: inputData.value      â”‚   â”‚
â”‚ â”‚     .map(x => x * 2)              â”‚   â”‚
â”‚ â”‚ };                                â”‚   â”‚
â”‚ â”‚ return result;                    â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Input Variables                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ inputData, options______________  â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Output Variable                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ result___________________________  â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Timeout (seconds)                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚ â”‚ 30         â”‚                           â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚               [Cancel] [Apply]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Condition Node Config

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”€ Condition Node                [Ã—]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Node Name                                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Check Score____________________   â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Condition Expression                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ {{input.score}} > 80              â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ True Branch  â†’  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚               â”‚  â”‚ Node Agent    â–¼ â”‚   â”‚
â”‚               â””  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ False Branch â†’  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚               â”‚  â”‚ Send Email    â–¼ â”‚   â”‚
â”‚               â””  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚               [Cancel] [Apply]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### HTTP Node Config

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŒ HTTP Node                    [Ã—]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Node Name                                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Fetch User Data_______________   â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Request URL                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ https://api.example.com/users/   â”‚   â”‚
â”‚ â”‚ {{Input.userId}}          [ğŸ“‹]   â”‚â†â”€ å˜é‡é€‰æ‹©å™¨æŒ‰é’®
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Method                                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ GET                    â–¼          â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Headers                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ {                                 â”‚   â”‚
â”‚ â”‚   "Authorization": "Bearer {{     â”‚   â”‚
â”‚ â”‚     Input.token        [ğŸ“‹]      â”‚   â”‚
â”‚ â”‚   }}"                             â”‚   â”‚
â”‚ â”‚ }                                 â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Request Body                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ {                                 â”‚   â”‚
â”‚ â”‚   "query": "{{                    â”‚   â”‚
â”‚ â”‚     agent_1.searchResult  [ğŸ“‹]   â”‚   â”‚
â”‚ â”‚   }}"                             â”‚   â”‚
â”‚ â”‚ }                                 â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Output Mapping (Define output schema)   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Output Field    â”‚ Source Path     â”‚   â”‚
â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚ â”‚ â”‚ userName      â”‚ data.user.name  â”‚   â”‚
â”‚ â”‚ â”‚ userAvatar    â”‚ data.avatar     â”‚   â”‚
â”‚ â”‚ â”‚ [+ Add Field] â”‚                 â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚               [Cancel] [Apply]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ•°æ®æµè®¾è®¡ï¼šå˜é‡å¼•ç”¨

### æ ¸å¿ƒæ¦‚å¿µ

èŠ‚ç‚¹ä¹‹é—´é€šè¿‡**å˜é‡å¼•ç”¨è¯­æ³•**ä¼ é€’æ•°æ®ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Input   â”‚      â”‚  Agent   â”‚      â”‚  HTTP    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                  â”‚                  â”‚
    â”‚ output: query    â”‚ output: answer   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    å¼•ç”¨è¯­æ³•ï¼š{{Input.query}}
    å¼•ç”¨è¯­æ³•ï¼š{{Agent.answer}}
```

### å˜é‡å¼•ç”¨è¯­æ³•

| è¯­æ³• | å«ä¹‰ | ç¤ºä¾‹ |
|------|------|------|
| `{{input.å­—æ®µå}}` | å·¥ä½œæµè¾“å…¥å˜é‡ | `{{input.userName}}` |
| `{{nodeId.å­—æ®µå}}` | å¼•ç”¨èŠ‚ç‚¹è¾“å‡º | `{{agent_1.answer}}` |
| `{{nodeId.å­—æ®µå.nested}}` | åµŒå¥—å­—æ®µ | `{{http_1.data.users[0].name}}` |

### å˜é‡é€‰æ‹©å™¨ï¼ˆå…³é”®äº¤äº’ï¼‰

ä¸æ˜¯è®©ç”¨æˆ·æ‰‹åŠ¨è¾“å…¥ `{{xxx}}`ï¼Œè€Œæ˜¯æä¾›**å˜é‡é€‰æ‹©å™¨**æŒ‰é’®ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”§ HTTP Node Configuration              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ URL                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ https://api.example.com/user/     â”‚   â”‚
â”‚ â”‚          [ğŸ“‹ Insert Variable]     â”‚â†â”€ ç‚¹å‡»å¼¹å‡ºå˜é‡é€‰æ‹©å™¨
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

           â†“ ç‚¹å‡» [ğŸ“‹ Insert Variable] æŒ‰é’®

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ğŸ“‹ Select Variable              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“¥ Workflow Input                       â”‚
â”‚   â€¢ input.userName                      â”‚
â”‚   â€¢ input.userId                        â”‚
â”‚                                          â”‚
â”‚ ğŸ¤– Agent Node "search_agent"            â”‚
â”‚   â€¢ agent_1.answer                      â”‚
â”‚   â€¢ agent_1.toolCalls                   â”‚
â”‚                                          â”‚
â”‚ ğŸŒ HTTP Node "fetch_user"               â”‚
â”‚   â€¢ http_1.data                         â”‚
â”‚   â€¢ http_1.data.users[0].name           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ™ºèƒ½æç¤ºï¼ˆAutocompleteï¼‰

åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥ `{{` æ—¶ï¼Œè‡ªåŠ¨å¼¹å‡ºå˜é‡åˆ—è¡¨ï¼š

```
URL: https://api.example.com/users/{{
                                        â†“ è‡ªåŠ¨å¼¹å‡º
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“¥ Input                          â”‚
â”‚   â€¢ input.userId                  â”‚
â”‚   â€¢ input.userName                â”‚
â”‚                                    â”‚
â”‚ ğŸ¤– Agent Node "my_agent"          â”‚
â”‚   â€¢ agent_1.answer                â”‚
â”‚   â€¢ agent_1.searchQuery           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Output Mappingï¼ˆè¾“å‡ºæ˜ å°„ï¼‰

è®©èŠ‚ç‚¹å®šä¹‰æ¸…æ™°çš„è¾“å‡º Schemaï¼Œæ–¹ä¾¿åç»­èŠ‚ç‚¹å¼•ç”¨ï¼š

```
åŸå§‹ API å“åº”:
{
  "status": 200,
  "data": {
    "user": {
      "id": 123,
      "name": "Alice"
    }
  }
}

â†“ é€šè¿‡ Output Mapping å®šä¹‰ â†“

èŠ‚ç‚¹è¾“å‡º:
{
  "userName": "Alice"    // â† data.user.name
}

â†“ åç»­èŠ‚ç‚¹å¯ä»¥ç›´æ¥å¼•ç”¨ â†“

{{http_1.userName}}  âœ… ç®€æ´
```

---

## Execution Panel (Bottom)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Execution Log                                              [Clear] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–¶ [09:23:45] Starting workflow execution...                        â”‚
â”‚                                                                      â”‚
â”‚   ğŸ¤– [09:23:46] Agent Node "Research Assistant": Running...        â”‚
â”‚     â–¶ [09:23:47] Calling tool: filesystem.read_file                â”‚
â”‚       File: /data/report.pdf                                        â”‚
â”‚     âœ… [09:23:48] Tool returned: PDF content (245 pages)            â”‚
â”‚     ğŸ’¬ [09:23:49] Token: "I've analyzed the report..."              â”‚
â”‚   âœ… [09:23:50] Agent Node: Complete (4.2s)                         â”‚
â”‚                                                                      â”‚
â”‚   ğŸ’» [09:23:51] Code Node "Transform Data": Running...             â”‚
â”‚   âœ… [09:23:52] Code Node: Complete (0.1s)                          â”‚
â”‚                                                                      â”‚
â”‚   ğŸ“¤ [09:23:53] Output Node: Done                                    â”‚
â”‚                                                                      â”‚
â”‚ âœ… [09:23:54] Workflow Complete (9.1s)                              â”‚
â”‚                                                                      â”‚
â”‚ Output:                                                              â”‚
â”‚ {                                                                    â”‚
â”‚   "summary": "Report analyzed successfully...",                    â”‚
â”‚   "metrics": { "pages": 245, "charts": 12 }                         â”‚
â”‚ }                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Features:**
- Collapsible panel (drag handle to resize)
- Auto-scroll to bottom
- Syntax highlighting for JSON output
- Copy output button
- Clear logs button
- Real-time token streaming (typing effect)

---

## Types (`lib/types.ts`)

```typescript
// ============================================================================
// Workflow Types
// ============================================================================

export interface Workflow {
  id: string;
  name: string;
  description?: string;
  nodes: WorkflowNode[];
  edges: WorkflowEdge[];
  createdAt: string;
  updatedAt: string;
  version: number;
}

export interface WorkflowNode {
  id: string;
  type: NodeType;
  name: string;
  position: { x: number; y: number };
  config: NodeConfig;
}

export type NodeType =
  | 'input'
  | 'output'
  | 'agent'
  | 'code'
  | 'condition'
  | 'tool'
  | 'http';

export interface WorkflowEdge {
  id: string;
  source: string;
  target: string;
  sourceHandle?: string;
  targetHandle?: string;
  condition?: string;  // For conditional routing
}

export type NodeConfig =
  | AgentNodeConfig
  | CodeNodeConfig
  | ConditionNodeConfig
  | ToolNodeConfig
  | HttpNodeConfig
  | IoNodeConfig;

// ============================================================================
// Node Config Types
// ============================================================================

export interface AgentNodeConfig {
  model: string;
  systemPrompt: string;
  mcpTools?: string[];
  temperature?: number;
  maxTokens?: number;
  topP?: number;
  timeout?: number;
}

export interface CodeNodeConfig {
  code: string;
  inputVariables: string[];
  outputVariable: string;
  timeout?: number;
}

export interface ConditionNodeConfig {
  condition: string;
  trueBranch: string;   // target node ID
  falseBranch: string;  // target node ID
}

export interface ToolNodeConfig {
  toolName: string;
  parameters: Record<string, any>;
  timeout?: number;
}

export interface HttpNodeConfig {
  url: string;
  method: 'GET' | 'POST' | 'PUT' | 'DELETE';
  headers?: Record<string, string>;
  body?: any;
  timeout?: number;
}

export interface IoNodeConfig {
  schema: Record<string, { type: string; description: string }>;
}

// ============================================================================
// Execution Types
// ============================================================================

export interface Execution {
  id: string;
  workflowId: string;
  status: 'pending' | 'running' | 'completed' | 'failed';
  startedAt: string;
  completedAt?: string;
  input?: Record<string, any>;
  output?: Record<string, any>;
  error?: string;
  nodeExecutions: NodeExecution[];
}

export interface NodeExecution {
  nodeId: string;
  nodeName: string;
  status: 'pending' | 'running' | 'completed' | 'failed';
  startedAt: string;
  completedAt?: string;
  input?: Record<string, any>;
  output?: Record<string, any>;
  error?: string;
  logs: ExecutionLog[];
}

export interface ExecutionLog {
  timestamp: string;
  level: 'info' | 'success' | 'error';
  message: string;
  data?: any;
}

// ============================================================================
// API Types
// ============================================================================

export interface ApiResponse<T> {
  success: boolean;
  data?: T;
  error?: string;
}

export interface PaginatedResponse<T> {
  items: T[];
  total: number;
  page: number;
  pageSize: number;
}
```

---

## API Integration (`lib/api.ts`)

```typescript
// Base URL - replace with actual backend URL
const API_BASE = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8080/api';

// ============================================================================
// Workflow API
// ============================================================================

export async function getWorkflows(page = 1, pageSize = 20) {
  const res = await fetch(`${API_BASE}/workflows?page=${page}&pageSize=${pageSize}`);
  return res.json();
}

export async function getWorkflow(id: string) {
  const res = await fetch(`${API_BASE}/workflows/${id}`);
  return res.json();
}

export async function createWorkflow(data: Partial<Workflow>) {
  const res = await fetch(`${API_BASE}/workflows`, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(data),
  });
  return res.json();
}

export async function updateWorkflow(id: string, data: Partial<Workflow>) {
  const res = await fetch(`${API_BASE}/workflows/${id}`, {
    method: 'PUT',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(data),
  });
  return res.json();
}

export async function deleteWorkflow(id: string) {
  const res = await fetch(`${API_BASE}/workflows/${id}`, {
    method: 'DELETE',
  });
  return res.json();
}

// ============================================================================
// Execution API
// ============================================================================

export async function executeWorkflow(id: string, input: Record<string, any>) {
  const res = await fetch(`${API_BASE}/workflows/${id}/execute`, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ input }),
  });
  return res.json();
}

export async function getExecution(id: string) {
  const res = await fetch(`${API_BASE}/executions/${id}`);
  return res.json();
}

export async function getWorkflowExecutions(workflowId: string) {
  const res = await fetch(`${API_BASE}/workflows/${workflowId}/executions`);
  return res.json();
}

// ============================================================================
// MCP API
// ============================================================================

export async function getMcpServers() {
  const res = await fetch(`${API_BASE}/mcp/servers`);
  return res.json();
}

export async function getMcpTools(serverId?: string) {
  const url = serverId
    ? `${API_BASE}/mcp/servers/${serverId}/tools`
    : `${API_BASE}/mcp/tools`;
  const res = await fetch(url);
  return res.json();
}

export async function addMcpServer(config: McpServerConfig) {
  const res = await fetch(`${API_BASE}/mcp/servers`, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(config),
  });
  return res.json();
}

interface McpServerConfig {
  name: string;
  protocol: 'stdio' | 'sse' | 'ws';
  endpoint: string;
  args?: string[];
}
```

---

## WebSocket Client (`lib/websocket.ts`)

```typescript
export class WorkflowStreamClient {
  private ws: WebSocket | null = null;
  private listeners: Map<string, Set<(data: any) => void>> = new Map();

  connect(url: string) {
    this.ws = new WebSocket(url);

    this.ws.onopen = () => {
      console.log('WebSocket connected');
    };

    this.ws.onmessage = (event) => {
      const message = JSON.parse(event.data);
      const handlers = this.listeners.get(message.type);
      handlers?.forEach((handler) => handler(message));
    };

    this.ws.onerror = (error) => {
      console.error('WebSocket error:', error);
    };

    this.ws.onclose = () => {
      console.log('WebSocket disconnected');
    };
  }

  on(event: string, handler: (data: any) => void) {
    if (!this.listeners.has(event)) {
      this.listeners.set(event, new Set());
    }
    this.listeners.get(event)!.add(handler);
  }

  off(event: string, handler: (data: any) => void) {
    this.listeners.get(event)?.delete(handler);
  }

  send(type: string, data: any) {
    this.ws?.send(JSON.stringify({ type, ...data }));
  }

  disconnect() {
    this.ws?.close();
  }
}

// Usage
const client = new WorkflowStreamClient();

client.on('node_start', (data) => {
  console.log('Node started:', data.nodeId);
});

client.on('token', (data) => {
  console.log('Token received:', data.text);
});

client.on('complete', (data) => {
  console.log('Workflow complete:', data.result);
});

client.connect('ws://localhost:8080/api/workflows/abc123/stream');
```

---

## Color Scheme

```css
/* Primary Colors */
--primary: #3b82f6;      /* Blue */
--primary-hover: #2563eb;

/* Node Colors */
--node-agent: #3b82f6;      /* Blue */
--node-code: #a855f7;       /* Purple */
--node-condition: #f97316;  /* Orange */
--node-tool: #ec4899;       /* Pink */
--node-http: #06b6d4;       /* Cyan */
--node-io: #22c55e;         /* Green */

/* Status Colors */
--success: #22c55e;
--error: #ef4444;
--warning: #eab308;
--idle: #6b7280;

/* UI Colors */
--bg-primary: #ffffff;
--bg-secondary: #f3f4f6;
--bg-tertiary: #e5e7eb;
--border: #d1d5db;
--text-primary: #111827;
--text-secondary: #6b7280;
```

---

## Design Requirements

1. **Modern UI**: Clean design with smooth animations and transitions
2. **Responsive**: Sidebar collapses on mobile, canvas adapts to screen size
3. **Dark Mode**: Full dark mode support with toggle
4. **Loading States**: Skeleton loaders, spinners for async operations
5. **Toast Notifications**: For save, delete, execute actions
6. **Keyboard Shortcuts**:
   - `Ctrl+S` - Save workflow
   - `Ctrl+Z` - Undo
   - `Ctrl+Shift+Z` - Redo
   - `Delete` - Delete selected node
   - `Ctrl+C` - Copy node
   - `Ctrl+V` - Paste node
7. **Accessibility**: ARIA labels, keyboard navigation, screen reader support

---

## Deliverables

Please create the initial project with:

1. âœ… **Dashboard page** with workflow list and empty state
2. âœ… **Workflow editor page** with ReactFlow canvas
3. âœ… **At least 4 node types**: Agent, Code, Condition, Input/Output
4. âœ… **Node config panel** for Agent node (full form)
5. âœ… **Mock API functions** for development
6. âœ… **TypeScript types** for all data structures
7. âœ… **Responsive layout** with collapsible sidebars
8. âœ… **Dark mode toggle**
9. âœ… **Toast notification system**
10. âœ… **Keyboard shortcuts** for common actions

Use modern React patterns (hooks, function components) and make it production-ready with proper error handling and loading states.
